{"ast":null,"code":"import _regeneratorRuntime from\"D:/__Project/SoccerStat/soccer-stat-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/__Project/SoccerStat/soccer-stat-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{URL_LEAGUES,URL_COMANDS,API_TOKEN,TARIF}from\"../constants\";export var getLeagues=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(URL_LEAGUES).concat(TARIF),{method:'GET',headers:{'X-Auth-Token':API_TOKEN}}).then(function(response){return response.json();}).then(function(data){return data;}).then(function(result){var leagues=result.competitions.map(function(item){return{id:item.id,name:item.name};});return leagues;});case 2:response=_context.sent;_context.next=5;return response;case 5:return _context.abrupt(\"return\",_context.sent);case 6:case\"end\":return _context.stop();}}},_callee);}));return function getLeagues(){return _ref.apply(this,arguments);};}();export var getMatches=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(url,id,year,dateFromTo){var urlApi,filterYear,filterDateFromTo,response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:urlApi='https://api.football-data.org/v2/teams';if(url){urlApi=url;}filterYear='';filterDateFromTo='';if(year){filterYear=\"?season=\".concat(year);}if(dateFromTo){filterDateFromTo=\"?dateFrom=\".concat(dateFromTo.dateFrom,\"&dateTo=\").concat(dateFromTo.dateTo);}_context2.next=8;return fetch(\"\".concat(urlApi,\"/\").concat(id,\"/matches\").concat(filterYear).concat(filterDateFromTo),{method:'GET',headers:{'X-Auth-Token':API_TOKEN}}).then(function(response){return response.json();}).then(function(data){return data;});case 8:response=_context2.sent;_context2.next=11;return response;case 11:return _context2.abrupt(\"return\",_context2.sent);case 12:case\"end\":return _context2.stop();}}},_callee2);}));return function getMatches(_x,_x2,_x3,_x4){return _ref2.apply(this,arguments);};}();export var getTeams=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"\".concat(URL_COMANDS).concat(TARIF),{method:'GET',headers:{'X-Auth-Token':API_TOKEN}}).then(function(response){return response.json();}).then(function(data){return data;}).then(function(result){var teams=result.teams.map(function(team){return{id:team.id,founded:team.founded,name:team.name,crestUrl:team.crestUrl,clubColors:team.clubColors};});return teams;});case 2:response=_context3.sent;_context3.next=5;return response;case 5:return _context3.abrupt(\"return\",_context3.sent);case 6:case\"end\":return _context3.stop();}}},_callee3);}));return function getTeams(){return _ref3.apply(this,arguments);};}();","map":{"version":3,"sources":["D:/__Project/SoccerStat/soccer-stat-app/src/requests/getData.tsx"],"names":["URL_LEAGUES","URL_COMANDS","API_TOKEN","TARIF","getLeagues","fetch","method","headers","then","response","json","data","result","leagues","competitions","map","item","id","name","getMatches","url","year","dateFromTo","urlApi","filterYear","filterDateFromTo","dateFrom","dateTo","getTeams","teams","team","founded","crestUrl","clubColors"],"mappings":"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","sourcesContent":["import { URL_LEAGUES, URL_COMANDS, API_TOKEN, TARIF } from \"../constants\"\r\n\r\n\r\nexport const getLeagues = async () => {\r\n\r\n\tinterface Leagues {\r\n\t\tid: number | string,\r\n\t\tname: string\r\n\t}\r\n\r\n\tconst response = await fetch(`${URL_LEAGUES}${TARIF}`, {\r\n\t\tmethod: 'GET',\r\n\t\theaders: {\r\n\t\t\t'X-Auth-Token': API_TOKEN\r\n\t\t}\r\n\t})\r\n\t\t.then(function (response: any) {\r\n\t\t\treturn response.json();\r\n\t\t})\r\n\t\t.then(function (data: any) {\r\n\t\t\treturn data;\r\n\t\t})\r\n\t\t.then((result: any) => {\r\n\t\t\tconst leagues = result.competitions.map((item: Leagues) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tid: item.id,\r\n\t\t\t\t\tname: item.name\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\treturn leagues;\r\n\t\t})\r\n\treturn await response;\r\n}\r\n\r\n\r\nexport const getMatches = async (url: string, id: number | string, year?: any, dateFromTo?: any) => {\r\n\r\n\tlet urlApi = 'https://api.football-data.org/v2/teams'\r\n\tif (url) {\r\n\t\turlApi = url\r\n\t}\r\n\r\n\tlet filterYear = '';\r\n\tlet filterDateFromTo = '';\r\n\r\n\tif (year) {\r\n\t\tfilterYear = `?season=${year}`\r\n\t}\r\n\tif (dateFromTo) {\r\n\t\tfilterDateFromTo = `?dateFrom=${dateFromTo.dateFrom}&dateTo=${dateFromTo.dateTo}`\r\n\t}\r\n\r\n\tconst response = await fetch(`${urlApi}/${id}/matches${filterYear}${filterDateFromTo}`, {\r\n\t\tmethod: 'GET',\r\n\t\theaders: {\r\n\t\t\t'X-Auth-Token': API_TOKEN\r\n\t\t}\r\n\t}).then(function (response) {\r\n\t\treturn response.json()\r\n\t}).then(function (data) {\r\n\t\treturn data;\r\n\t})\r\n\treturn await response;\r\n}\r\n\r\n\r\nexport const getTeams = async () => {\r\n\r\n\tinterface Teams {\r\n\t\tid: number | string,\r\n\t\tfounded: number | string,\r\n\t\tname: string,\r\n\t\tcrestUrl: string,\r\n\t\tclubColors: string\r\n\t}\r\n\r\n\tconst response = await fetch(`${URL_COMANDS}${TARIF}`, {\r\n\t\tmethod: 'GET',\r\n\t\theaders: {\r\n\t\t\t'X-Auth-Token': API_TOKEN\r\n\t\t}\r\n\t}).then(function (response) {\r\n\t\treturn response.json();\r\n\t}).then(function (data) {\r\n\t\treturn data;\r\n\t}).then((result) => {\r\n\t\tconst teams = result.teams.map((team: Teams) => {\r\n\t\t\treturn {\r\n\t\t\t\tid: team.id,\r\n\t\t\t\tfounded: team.founded,\r\n\t\t\t\tname: team.name,\r\n\t\t\t\tcrestUrl: team.crestUrl,\r\n\t\t\t\tclubColors: team.clubColors,\r\n\t\t\t}\r\n\t\t})\r\n\t\treturn teams;\r\n\t})\r\n\r\n\treturn await response;\r\n}"]},"metadata":{},"sourceType":"module"}