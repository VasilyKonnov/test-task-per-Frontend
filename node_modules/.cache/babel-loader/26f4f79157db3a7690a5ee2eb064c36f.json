{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\__Project\\\\SoccerStat\\\\soccer-stat-app\\\\src\\\\pages\\\\LeaguesList.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { requestLeagues } from \"../redux/actions\";\nimport { connect } from \"react-redux\";\nimport ItemLeagues from \"../components/ItemLeagues\";\nimport Warning from \"../components/Warning\";\nimport Loading from \"../components/Loading\";\nimport SportsSoccerIcon from '@material-ui/icons/SportsSoccer';\nimport Search from \"../components/Search\";\nimport NoResultSearch from \"../components/NoResultSearch\";\n\nconst LeaguesList = props => {\n  _s();\n\n  const {\n    leagues,\n    loading,\n    requestLeagues,\n    errorMessage\n  } = props; // search state\n\n  const [searchValue, setSearchValue] = useState('');\n  const [allResult, setAllResult] = useState([]);\n  const [displayedResult, setDisplayedResult] = useState([]); // end search state\n\n  const searchText = () => {\n    const searching = displayedResult => {\n      let idIndexOf = displayedResult.id.toString().toLowerCase().indexOf(searchValue.toLowerCase());\n      let nameIndexOf = displayedResult.name.toLowerCase().indexOf(searchValue.toLowerCase());\n\n      if (idIndexOf !== -1 || nameIndexOf !== -1) {\n        return true;\n      }\n\n      return false;\n    };\n\n    const foundText = allResult.filter(searching);\n    setDisplayedResult(foundText);\n  };\n\n  const handleSearchValue = event => {\n    setSearchValue(event.target.value);\n\n    if (searchValue.length > 1) {\n      searchText();\n    } else {\n      setDisplayedResult(allResult);\n    }\n  };\n\n  useEffect(() => {\n    setDisplayedResult(leagues);\n    setAllResult(leagues);\n    requestLeagues();\n  }, []);\n\n  if (errorMessage) {\n    return /*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        marginTop: \"50px\"\n      },\n      children: errorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 10\n    }, this);\n  }\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 10\n    }, this);\n  }\n\n  if (!leagues.length) {\n    return /*#__PURE__*/_jsxDEV(Warning, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 4\n    }, this);\n  }\n\n  if (!displayedResult) {\n    return /*#__PURE__*/_jsxDEV(NoResultSearch, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 10\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"content\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [/*#__PURE__*/_jsxDEV(SportsSoccerIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }, this), \" \\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u041B\\u0438\\u0433\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(Search, {\n      handleSearchValue: handleSearchValue,\n      searchText: searchText\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 3\n    }, this), displayedResult.map((league, index) => {\n      return /*#__PURE__*/_jsxDEV(ItemLeagues, {\n        searchValue: searchValue,\n        id: league.id,\n        index: index + 1,\n        name: league.name\n      }, league.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 5\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n};\n\n_s(LeaguesList, \"d+c2sKIYFnLPKaH1d73rHhFho9E=\");\n\n_c = LeaguesList;\n\nconst mapStateToProps = state => ({\n  leagues: state.leagues.leagues,\n  errorMessage: state.leagues.errorMessage,\n  loading: state.app.loading,\n  season: state.leagues.season\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    requestLeagues: () => dispatch(requestLeagues())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LeaguesList);\n\nvar _c;\n\n$RefreshReg$(_c, \"LeaguesList\");","map":{"version":3,"sources":["D:/__Project/SoccerStat/soccer-stat-app/src/pages/LeaguesList.tsx"],"names":["React","useEffect","useState","requestLeagues","connect","ItemLeagues","Warning","Loading","SportsSoccerIcon","Search","NoResultSearch","LeaguesList","props","leagues","loading","errorMessage","searchValue","setSearchValue","allResult","setAllResult","displayedResult","setDisplayedResult","searchText","searching","idIndexOf","id","toString","toLowerCase","indexOf","nameIndexOf","name","foundText","filter","handleSearchValue","event","target","value","length","marginTop","map","league","index","mapStateToProps","state","app","season","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { requestLeagues } from \"../redux/actions\"\r\nimport { connect } from \"react-redux\"\r\nimport ItemLeagues from \"../components/ItemLeagues\";\r\nimport Warning from \"../components/Warning\";\r\nimport Loading from \"../components/Loading\";\r\nimport SportsSoccerIcon from '@material-ui/icons/SportsSoccer';\r\nimport HighlightText from \"../components/HighlightText\";\r\nimport Search from \"../components/Search\"\r\nimport NoResultSearch from \"../components/NoResultSearch\";\r\n\r\n\r\n\r\nconst LeaguesList = (props: any) => {\r\n\tconst { leagues, loading, requestLeagues, errorMessage } = props;\r\n\r\n\t// search state\r\n\tconst [searchValue, setSearchValue] = useState('');\r\n\tconst [allResult, setAllResult] = useState([]);\r\n\tconst [displayedResult, setDisplayedResult] = useState([]);\r\n\t// end search state\r\n\r\n\r\n\tconst searchText = () => {\r\n\t\tconst searching = (displayedResult: any) => {\r\n\t\t\tlet idIndexOf = displayedResult.id.toString().toLowerCase().indexOf(searchValue.toLowerCase());\r\n\t\t\tlet nameIndexOf = displayedResult.name.toLowerCase().indexOf(searchValue.toLowerCase());\r\n\t\t\tif (idIndexOf !== -1 || nameIndexOf !== -1) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconst foundText = allResult.filter(searching)\r\n\t\tsetDisplayedResult(foundText)\r\n\t}\r\n\r\n\tconst handleSearchValue = (event: any) => {\r\n\t\tsetSearchValue(event.target.value)\r\n\t\tif (searchValue.length > 1) {\r\n\t\t\tsearchText()\r\n\t\t} else {\r\n\t\t\tsetDisplayedResult(allResult)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tsetDisplayedResult(leagues);\r\n\t\tsetAllResult(leagues);\r\n\t\trequestLeagues()\r\n\t}, [])\r\n\r\n\tif (errorMessage) {\r\n\t\treturn <h2 style={{ marginTop: \"50px\" }}>{errorMessage}</h2>\r\n\t}\r\n\tif (loading) {\r\n\t\treturn <Loading />\r\n\t}\r\n\tif (!leagues.length) {\r\n\t\treturn (\r\n\t\t\t<Warning />\r\n\t\t)\r\n\t}\r\n\tif (!displayedResult) {\r\n\t\treturn <NoResultSearch />\r\n\t}\r\n\r\n\treturn <div className=\"content\">\r\n\t\t<h1><SportsSoccerIcon /> Список Лиг</h1>\r\n\t\t<Search handleSearchValue={handleSearchValue} searchText={searchText} />\r\n\t\t{displayedResult.map((league: any, index: number) => {\r\n\t\t\treturn (\r\n\t\t\t\t<ItemLeagues\r\n\t\t\t\t\tsearchValue={searchValue}\r\n\t\t\t\t\tkey={league.id}\r\n\t\t\t\t\tid={league.id}\r\n\t\t\t\t\tindex={index + 1}\r\n\t\t\t\t\tname={league.name}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t})\r\n\t\t}\r\n\t</div>\r\n};\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n\tleagues: state.leagues.leagues,\r\n\terrorMessage: state.leagues.errorMessage,\r\n\tloading: state.app.loading,\r\n\tseason: state.leagues.season\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch: any) => {\r\n\treturn {\r\n\t\trequestLeagues: () => dispatch(requestLeagues())\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LeaguesList);"]},"metadata":{},"sourceType":"module"}