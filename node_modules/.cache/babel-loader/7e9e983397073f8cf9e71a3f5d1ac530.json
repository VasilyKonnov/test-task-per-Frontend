{"ast":null,"code":"const API_TOKEN = \"0d5df8c05978490ea0958129ea7986b4\";\nconst TARIF = \"?plan=TIER_ONE\"; // TODO: Убрать все консоль-логи\n\nexport const getTeams = async () => {\n  try {\n    const response = await fetch('https://api.football-data.org/v2/teams/', {\n      method: 'GET',\n      headers: {\n        'X-Auth-Token': API_TOKEN\n      }\n    }).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      return data;\n    });\n    console.log('getTeams - response', response);\n    return await response;\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const getLeagues = async () => {\n  const response = await fetch(`https://api.football-data.org/v2/competitions${TARIF}`, {\n    method: 'GET',\n    headers: {\n      'X-Auth-Token': API_TOKEN\n    }\n  }).then(function (response) {\n    return response.json();\n  }).then(function (data) {\n    return data;\n  }).then(result => {\n    const leagues = result.competitions.map(item => {\n      return {\n        id: item.id,\n        name: item.name\n      };\n    });\n    return leagues;\n  });\n  return await response;\n};\nexport const getLeague = async (id, year, dateFromTo) => {\n  let filterYear = '';\n  let filterDateFromTo = '';\n\n  if (year) {\n    console.log('getLeague year ', year);\n    filterYear = `?season=${year}`;\n  }\n\n  if (dateFromTo) {\n    filterDateFromTo = `?dateFrom=${dateFromTo.start}&dateTo${dateFromTo.end}`;\n  }\n\n  const url = `https://api.football-data.org/v2/competitions/${id}/matches${filterYear}${filterDateFromTo}`;\n  const response = await fetch(url, {\n    method: 'GET',\n    headers: {\n      'X-Auth-Token': API_TOKEN\n    }\n  }).then(function (response) {\n    return response.json();\n  }).then(function (data) {\n    return data;\n  });\n  console.log('response ', response);\n  return await response;\n};","map":{"version":3,"sources":["D:/__Project/SoccerStat/my-app/src/requests/getData.tsx"],"names":["API_TOKEN","TARIF","getTeams","response","fetch","method","headers","then","json","data","console","log","error","getLeagues","result","leagues","competitions","map","item","id","name","getLeague","year","dateFromTo","filterYear","filterDateFromTo","start","end","url"],"mappings":"AAAA,MAAMA,SAAS,GAAG,kCAAlB;AACA,MAAMC,KAAK,GAAG,gBAAd,C,CACA;;AAGA,OAAO,MAAMC,QAAQ,GAAG,YAAY;AACnC,MAAI;AACH,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,yCAAD,EAA4C;AACvEC,MAAAA,MAAM,EAAE,KAD+D;AAEvEC,MAAAA,OAAO,EAAE;AACR,wBAAgBN;AADR;AAF8D,KAA5C,CAAL,CAKpBO,IALoB,CAKf,UAAUJ,QAAV,EAAoB;AAC3B,aAAOA,QAAQ,CAACK,IAAT,EAAP;AACA,KAPsB,EAOpBD,IAPoB,CAOf,UAAUE,IAAV,EAAgB;AACvB,aAAOA,IAAP;AACA,KATsB,CAAvB;AAUAC,IAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCR,QAAnC;AACA,WAAO,MAAMA,QAAb;AACA,GAbD,CAcA,OAAOS,KAAP,EAAc;AACbF,IAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACA;AACD,CAlBM;AAoBP,OAAO,MAAMC,UAAU,GAAG,YAAY;AAOrC,QAAMV,QAAQ,GAAG,MAAMC,KAAK,CAAE,gDAA+CH,KAAM,EAAvD,EAA0D;AACrFI,IAAAA,MAAM,EAAE,KAD6E;AAErFC,IAAAA,OAAO,EAAE;AACR,sBAAgBN;AADR;AAF4E,GAA1D,CAAL,CAMrBO,IANqB,CAMhB,UAAUJ,QAAV,EAAyB;AAC9B,WAAOA,QAAQ,CAACK,IAAT,EAAP;AACA,GARqB,EASrBD,IATqB,CAShB,UAAUE,IAAV,EAAqB;AAC1B,WAAOA,IAAP;AACA,GAXqB,EAYrBF,IAZqB,CAYfO,MAAD,IAAiB;AACtB,UAAMC,OAAO,GAAGD,MAAM,CAACE,YAAP,CAAoBC,GAApB,CAAyBC,IAAD,IAAmB;AAC1D,aAAO;AACNC,QAAAA,EAAE,EAAED,IAAI,CAACC,EADH;AAENC,QAAAA,IAAI,EAAEF,IAAI,CAACE;AAFL,OAAP;AAIA,KALe,CAAhB;AAMA,WAAOL,OAAP;AACA,GApBqB,CAAvB;AAqBA,SAAO,MAAMZ,QAAb;AACA,CA7BM;AA+BP,OAAO,MAAMkB,SAAS,GAAG,OAAOF,EAAP,EAA4BG,IAA5B,EAAwCC,UAAxC,KAA6D;AAErF,MAAIC,UAAU,GAAG,EAAjB;AACA,MAAIC,gBAAgB,GAAG,EAAvB;;AAEA,MAAIH,IAAJ,EAAU;AACTZ,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BW,IAA/B;AAEAE,IAAAA,UAAU,GAAI,WAAUF,IAAK,EAA7B;AACA;;AACD,MAAIC,UAAJ,EAAgB;AACfE,IAAAA,gBAAgB,GAAI,aAAYF,UAAU,CAACG,KAAM,UAASH,UAAU,CAACI,GAAI,EAAzE;AACA;;AACD,QAAMC,GAAG,GAAI,iDAAgDT,EAAG,WAAUK,UAAW,GAAEC,gBAAiB,EAAxG;AAEA,QAAMtB,QAAQ,GAAG,MAAMC,KAAK,CAACwB,GAAD,EAAM;AACjCvB,IAAAA,MAAM,EAAE,KADyB;AAEjCC,IAAAA,OAAO,EAAE;AACR,sBAAgBN;AADR;AAFwB,GAAN,CAAL,CAKpBO,IALoB,CAKf,UAAUJ,QAAV,EAAoB;AAC3B,WAAOA,QAAQ,CAACK,IAAT,EAAP;AACA,GAPsB,EAOpBD,IAPoB,CAOf,UAAUE,IAAV,EAAgB;AACvB,WAAOA,IAAP;AACA,GATsB,CAAvB;AAUAC,EAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBR,QAAzB;AACA,SAAO,MAAMA,QAAb;AACA,CA3BM","sourcesContent":["const API_TOKEN = \"0d5df8c05978490ea0958129ea7986b4\"\r\nconst TARIF = \"?plan=TIER_ONE\"\r\n// TODO: Убрать все консоль-логи\r\n\r\n\r\nexport const getTeams = async () => {\r\n\ttry {\r\n\t\tconst response = await fetch('https://api.football-data.org/v2/teams/', {\r\n\t\t\tmethod: 'GET',\r\n\t\t\theaders: {\r\n\t\t\t\t'X-Auth-Token': API_TOKEN\r\n\t\t\t}\r\n\t\t}).then(function (response) {\r\n\t\t\treturn response.json();\r\n\t\t}).then(function (data) {\r\n\t\t\treturn data;\r\n\t\t});\r\n\t\tconsole.log('getTeams - response', response);\r\n\t\treturn await response;\r\n\t}\r\n\tcatch (error) {\r\n\t\tconsole.log(error)\r\n\t}\r\n}\r\n\r\nexport const getLeagues = async () => {\r\n\r\n\tinterface Leagues {\r\n\t\tid: number | string,\r\n\t\tname: string\r\n\t}\r\n\r\n\tconst response = await fetch(`https://api.football-data.org/v2/competitions${TARIF}`, {\r\n\t\tmethod: 'GET',\r\n\t\theaders: {\r\n\t\t\t'X-Auth-Token': API_TOKEN\r\n\t\t}\r\n\t})\r\n\t\t.then(function (response: any) {\r\n\t\t\treturn response.json();\r\n\t\t})\r\n\t\t.then(function (data: any) {\r\n\t\t\treturn data;\r\n\t\t})\r\n\t\t.then((result: any) => {\r\n\t\t\tconst leagues = result.competitions.map((item: Leagues) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tid: item.id,\r\n\t\t\t\t\tname: item.name\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\treturn leagues;\r\n\t\t})\r\n\treturn await response;\r\n}\r\n\r\nexport const getLeague = async (id: number | string, year?: any, dateFromTo?: any) => {\r\n\r\n\tlet filterYear = '';\r\n\tlet filterDateFromTo = '';\r\n\r\n\tif (year) {\r\n\t\tconsole.log('getLeague year ', year)\r\n\r\n\t\tfilterYear = `?season=${year}`\r\n\t}\r\n\tif (dateFromTo) {\r\n\t\tfilterDateFromTo = `?dateFrom=${dateFromTo.start}&dateTo${dateFromTo.end}`\r\n\t}\r\n\tconst url = `https://api.football-data.org/v2/competitions/${id}/matches${filterYear}${filterDateFromTo}`\r\n\r\n\tconst response = await fetch(url, {\r\n\t\tmethod: 'GET',\r\n\t\theaders: {\r\n\t\t\t'X-Auth-Token': API_TOKEN\r\n\t\t}\r\n\t}).then(function (response) {\r\n\t\treturn response.json()\r\n\t}).then(function (data) {\r\n\t\treturn data;\r\n\t})\r\n\tconsole.log('response ', response)\r\n\treturn await response;\r\n}"]},"metadata":{},"sourceType":"module"}