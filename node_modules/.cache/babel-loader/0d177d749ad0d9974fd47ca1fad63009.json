{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"D:/__Project/SoccerStat/soccer-stat-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{requestLeagues as _requestLeagues}from\"../redux/actions\";import{connect}from\"react-redux\";import ItemLeagues from\"../components/ItemLeagues\";import Warning from\"../components/Warning\";import Loading from\"../components/Loading\";import SportsSoccerIcon from'@material-ui/icons/SportsSoccer';import Search from\"../components/Search\";import NoResultSearch from\"../components/NoResultSearch\";var LeaguesList=function LeaguesList(props){var leagues=props.leagues,loading=props.loading,requestLeagues=props.requestLeagues,errorMessage=props.errorMessage;// search state\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchValue=_useState2[0],setSearchValue=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),allResult=_useState4[0],setAllResult=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),displayedResult=_useState6[0],setDisplayedResult=_useState6[1];// end search state\nvar searchText=function searchText(){var searching=function searching(displayedResult){var idIndexOf=displayedResult.id.toString().toLowerCase().indexOf(searchValue.toLowerCase());var nameIndexOf=displayedResult.name.toLowerCase().indexOf(searchValue.toLowerCase());if(idIndexOf!==-1||nameIndexOf!==-1){return true;}return false;};var foundText=allResult.filter(searching);setDisplayedResult(foundText);};var handleSearchValue=function handleSearchValue(event){setSearchValue(event.target.value);if(searchValue.length>1){searchText();}else{setDisplayedResult(allResult);}};useEffect(function(){requestLeagues();},[]);useEffect(function(){setDisplayedResult(leagues);setAllResult(leagues);},[leagues]);if(errorMessage){return/*#__PURE__*/_jsx(\"h2\",{style:{marginTop:\"50px\"},children:errorMessage});}if(loading){return/*#__PURE__*/_jsx(Loading,{});}if(!leagues.length){return/*#__PURE__*/_jsx(Warning,{});}return/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[/*#__PURE__*/_jsx(SportsSoccerIcon,{}),\" \\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u041B\\u0438\\u0433\"]}),/*#__PURE__*/_jsx(Search,{handleSearchValue:handleSearchValue,searchText:searchText}),displayedResult.length?displayedResult.map(function(league,index){return/*#__PURE__*/_jsx(ItemLeagues,{searchValue:searchValue,id:league.id,index:index+1,name:league.name},league.id);}):/*#__PURE__*/_jsx(NoResultSearch,{})]});};var mapStateToProps=function mapStateToProps(state){return{leagues:state.leagues.leagues,errorMessage:state.leagues.errorMessage,loading:state.app.loading,season:state.leagues.season};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{requestLeagues:function requestLeagues(){return dispatch(_requestLeagues());}};};export default connect(mapStateToProps,mapDispatchToProps)(LeaguesList);","map":{"version":3,"sources":["D:/__Project/SoccerStat/soccer-stat-app/src/pages/LeaguesList.tsx"],"names":["React","useEffect","useState","requestLeagues","connect","ItemLeagues","Warning","Loading","SportsSoccerIcon","Search","NoResultSearch","LeaguesList","props","leagues","loading","errorMessage","searchValue","setSearchValue","allResult","setAllResult","displayedResult","setDisplayedResult","searchText","searching","idIndexOf","id","toString","toLowerCase","indexOf","nameIndexOf","name","foundText","filter","handleSearchValue","event","target","value","length","marginTop","map","league","index","mapStateToProps","state","app","season","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { requestLeagues } from \"../redux/actions\"\r\nimport { connect } from \"react-redux\"\r\nimport ItemLeagues from \"../components/ItemLeagues\";\r\nimport Warning from \"../components/Warning\";\r\nimport Loading from \"../components/Loading\";\r\nimport SportsSoccerIcon from '@material-ui/icons/SportsSoccer';\r\nimport Search from \"../components/Search\"\r\nimport NoResultSearch from \"../components/NoResultSearch\";\r\n\r\n\r\n\r\nconst LeaguesList = (props: any) => {\r\n\tconst { leagues, loading, requestLeagues, errorMessage } = props;\r\n\r\n\t// search state\r\n\tconst [searchValue, setSearchValue] = useState('');\r\n\tconst [allResult, setAllResult] = useState([]);\r\n\tconst [displayedResult, setDisplayedResult] = useState([]);\r\n\t// end search state\r\n\tconst searchText = () => {\r\n\t\tconst searching = (displayedResult: any) => {\r\n\t\t\tlet idIndexOf = displayedResult.id.toString().toLowerCase().indexOf(searchValue.toLowerCase());\r\n\t\t\tlet nameIndexOf = displayedResult.name.toLowerCase().indexOf(searchValue.toLowerCase());\r\n\t\t\tif (idIndexOf !== -1 || nameIndexOf !== -1) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconst foundText = allResult.filter(searching)\r\n\t\tsetDisplayedResult(foundText)\r\n\t}\r\n\tconst handleSearchValue = (event: any) => {\r\n\t\tsetSearchValue(event.target.value)\r\n\t\tif (searchValue.length > 1) {\r\n\t\t\tsearchText()\r\n\t\t} else {\r\n\t\t\tsetDisplayedResult(allResult)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\trequestLeagues()\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetDisplayedResult(leagues);\r\n\t\tsetAllResult(leagues);\r\n\t}, [leagues])\r\n\r\n\r\n\tif (errorMessage) {\r\n\t\treturn <h2 style={{ marginTop: \"50px\" }}>{errorMessage}</h2>\r\n\t}\r\n\tif (loading) {\r\n\t\treturn <Loading />\r\n\t}\r\n\tif (!leagues.length) {\r\n\t\treturn (\r\n\t\t\t<Warning />\r\n\t\t)\r\n\t}\r\n\r\n\treturn <div className=\"content\">\r\n\t\t<h1><SportsSoccerIcon /> Список Лиг</h1>\r\n\t\t<Search handleSearchValue={handleSearchValue} searchText={searchText} />\r\n\t\t{displayedResult.length\r\n\t\t\t?\r\n\t\t\tdisplayedResult.map((league: any, index: number) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ItemLeagues\r\n\t\t\t\t\t\tsearchValue={searchValue}\r\n\t\t\t\t\t\tkey={league.id}\r\n\t\t\t\t\t\tid={league.id}\r\n\t\t\t\t\t\tindex={index + 1}\r\n\t\t\t\t\t\tname={league.name}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t})\r\n\t\t\t:\r\n\t\t\t<NoResultSearch />\r\n\t\t}\r\n\t</div>\r\n};\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n\tleagues: state.leagues.leagues,\r\n\terrorMessage: state.leagues.errorMessage,\r\n\tloading: state.app.loading,\r\n\tseason: state.leagues.season\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch: any) => {\r\n\treturn {\r\n\t\trequestLeagues: () => dispatch(requestLeagues())\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LeaguesList);"]},"metadata":{},"sourceType":"module"}