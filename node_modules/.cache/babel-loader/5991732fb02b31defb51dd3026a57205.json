{"ast":null,"code":"import _slicedToArray from\"D:/__Project/SoccerStat/soccer-stat-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import PeopleIcon from'@material-ui/icons/People';import{connect}from\"react-redux\";import Warning from\"../components/Warning\";import Loading from\"../components/Loading\";import{requestTeams as _requestTeams}from\"../redux/actions\";import TableTeams from\"../components/TableTeams\";import Search from\"../components/Search\";import NoResultSearch from\"../components/NoResultSearch\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ComandList=function ComandList(props){var teams=props.teams,loading=props.loading,requestTeams=props.requestTeams,errorMessage=props.errorMessage;// search state\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchValue=_useState2[0],setSearchValue=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),allResult=_useState4[0],setAllResult=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),displayedResult=_useState6[0],setDisplayedResult=_useState6[1];// end search state\nvar searchText=function searchText(){var searching=function searching(displayedResult){var nameIndexOf=displayedResult.name.toLowerCase().indexOf(searchValue.toLowerCase());var clubColors=displayedResult.clubColors.toLowerCase().indexOf(searchValue.toLowerCase());if(nameIndexOf!==-1||clubColors!==-1){return true;}else{return false;}};var foundText=allResult.filter(searching);setDisplayedResult(foundText);};var handleSearchValue=function handleSearchValue(event){setSearchValue(event.target.value);if(searchValue.length>1){searchText();}else{setDisplayedResult(allResult);}};useEffect(function(){requestTeams();},[]);useEffect(function(){setDisplayedResult(teams);setAllResult(teams);},[teams]);if(errorMessage){return/*#__PURE__*/_jsx(\"h2\",{style:{marginTop:\"50px\"},children:errorMessage});}if(loading){return/*#__PURE__*/_jsx(Loading,{});}if(!teams.length){return/*#__PURE__*/_jsx(Warning,{});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[/*#__PURE__*/_jsx(PeopleIcon,{}),\" \\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u043A\\u043E\\u043C\\u0430\\u043D\\u0434\"]}),/*#__PURE__*/_jsx(Search,{searchText:searchText,handleSearchValue:handleSearchValue}),!displayedResult.length?/*#__PURE__*/_jsx(NoResultSearch,{}):/*#__PURE__*/_jsx(TableTeams,{searchValue:searchValue,dataTable:displayedResult})]});};var mapStateToProps=function mapStateToProps(state){return{teams:state.leagues.teams,errorMessage:state.leagues.errorMessage,loading:state.app.loading,season:state.leagues.season};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{requestTeams:function requestTeams(){return dispatch(_requestTeams());}};};export default connect(mapStateToProps,mapDispatchToProps)(ComandList);","map":{"version":3,"sources":["D:/__Project/SoccerStat/soccer-stat-app/src/pages/ComandList.tsx"],"names":["React","useEffect","useState","PeopleIcon","connect","Warning","Loading","requestTeams","TableTeams","Search","NoResultSearch","ComandList","props","teams","loading","errorMessage","searchValue","setSearchValue","allResult","setAllResult","displayedResult","setDisplayedResult","searchText","searching","nameIndexOf","name","toLowerCase","indexOf","clubColors","foundText","filter","handleSearchValue","event","target","value","length","marginTop","mapStateToProps","state","leagues","app","season","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport PeopleIcon from '@material-ui/icons/People';\r\nimport { connect } from \"react-redux\";\r\nimport Warning from \"../components/Warning\";\r\nimport Loading from \"../components/Loading\";\r\nimport { requestTeams } from \"../redux/actions\";\r\nimport TableTeams from \"../components/TableTeams\";\r\nimport Search from \"../components/Search\";\r\nimport NoResultSearch from \"../components/NoResultSearch\";\r\n\r\n\r\nconst ComandList = (props: any) => {\r\n\tconst { teams, loading, requestTeams, errorMessage } = props;\r\n\r\n\t// search state\r\n\tconst [searchValue, setSearchValue] = useState('');\r\n\tconst [allResult, setAllResult] = useState([]);\r\n\tconst [displayedResult, setDisplayedResult] = useState([]);\r\n\t// end search state\r\n\tconst searchText = () => {\r\n\t\tconst searching = (displayedResult: any) => {\r\n\t\t\tlet nameIndexOf = displayedResult.name.toLowerCase().indexOf(searchValue.toLowerCase());\r\n\t\t\tlet clubColors = displayedResult.clubColors.toLowerCase().indexOf(searchValue.toLowerCase());\r\n\r\n\t\t\tif (nameIndexOf !== -1 || clubColors !== -1) {\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst foundText = allResult.filter(searching)\r\n\t\tsetDisplayedResult(foundText)\r\n\t}\r\n\tconst handleSearchValue = (event: any) => {\r\n\t\tsetSearchValue(event.target.value)\r\n\t\tif (searchValue.length > 1) {\r\n\t\t\tsearchText()\r\n\t\t} else {\r\n\t\t\tsetDisplayedResult(allResult)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\trequestTeams();\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetDisplayedResult(teams);\r\n\t\tsetAllResult(teams);\r\n\t}, [teams])\r\n\r\n\tif (errorMessage) {\r\n\t\treturn <h2 style={{ marginTop: \"50px\" }}>{errorMessage}</h2>\r\n\t}\r\n\r\n\tif (loading) {\r\n\t\treturn <Loading />\r\n\t}\r\n\r\n\tif (!teams.length) {\r\n\t\treturn (\r\n\t\t\t<Warning />\r\n\t\t)\r\n\t}\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<h1><PeopleIcon /> Список команд</h1>\r\n\t\t\t<Search searchText={searchText} handleSearchValue={handleSearchValue} />\r\n\t\t\t{\r\n\t\t\t\t!displayedResult.length\r\n\t\t\t\t\t?\r\n\t\t\t\t\t<NoResultSearch />\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<TableTeams searchValue={searchValue} dataTable={displayedResult} />\r\n\t\t\t}\r\n\t\t</>\r\n\t)\r\n};\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n\tteams: state.leagues.teams,\r\n\terrorMessage: state.leagues.errorMessage,\r\n\tloading: state.app.loading,\r\n\tseason: state.leagues.season\r\n})\r\nconst mapDispatchToProps = (dispatch: any) => {\r\n\treturn {\r\n\t\trequestTeams: () => dispatch(requestTeams())\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ComandList);"]},"metadata":{},"sourceType":"module"}