{"ast":null,"code":"const API_TOKEN = \"0d5df8c05978490ea0958129ea7986b4\";\nconst TARIF = \"?plan=TIER_ONE\"; // TODO: Убрать все консоль-логи\n\nexport const getLeagues = async () => {\n  const response = await fetch(`https://api.football-data.org/v2/competitions${TARIF}`, {\n    method: 'GET',\n    headers: {\n      'X-Auth-Token': API_TOKEN\n    }\n  }).then(function (response) {\n    return response.json();\n  }).then(function (data) {\n    return data;\n  }).then(result => {\n    const leagues = result.competitions.map(item => {\n      return {\n        id: item.id,\n        name: item.name\n      };\n    });\n    return leagues;\n  });\n  return await response;\n};\nexport const getLeague = async (id, year, dateFromTo) => {\n  let filterYear = '';\n  let filterDateFromTo = '';\n\n  if (year) {\n    console.log('getLeague year ', year);\n    filterYear = `?season=${year}`;\n  }\n\n  if (dateFromTo) {\n    filterDateFromTo = `?dateFrom=${dateFromTo.dateFrom}&dateTo=${dateFromTo.dateTo}`;\n  }\n\n  const url = `https://api.football-data.org/v2/competitions/${id}/matches${filterYear}${filterDateFromTo}`;\n  const response = await fetch(url, {\n    method: 'GET',\n    headers: {\n      'X-Auth-Token': API_TOKEN\n    }\n  }).then(function (response) {\n    return response.json();\n  }).then(function (data) {\n    return data;\n  });\n  return await response;\n};\nexport const getTeams = async () => {\n  const response = await fetch(`https://api.football-data.org/v2/teams${TARIF}`, {\n    method: 'GET',\n    headers: {\n      'X-Auth-Token': API_TOKEN\n    }\n  }).then(function (response) {\n    return response.json();\n  }).then(function (data) {\n    return data;\n  }).then(function (result) {\n    console.log(\"response teams 84 \", result.teams);\n  }); // .then((result) => {\n  // \tconst teams = result.teams.map((team: Teams) => {\n  // \t\treturn {\n  // \t\t\tid: team.id,\n  // \t\t\tname: team.name,\n  // \t\t\tcrestUrl: team.crestUrl,\n  // \t\t\tclubColors: team.clubColors,\n  // \t\t}\n  // \t})\n  // \treturn teams;\n  // }\n\n  return await response;\n};","map":{"version":3,"sources":["D:/__Project/SoccerStat/soccer-stat-app/src/requests/getData.tsx"],"names":["API_TOKEN","TARIF","getLeagues","response","fetch","method","headers","then","json","data","result","leagues","competitions","map","item","id","name","getLeague","year","dateFromTo","filterYear","filterDateFromTo","console","log","dateFrom","dateTo","url","getTeams","teams"],"mappings":"AAAA,MAAMA,SAAS,GAAG,kCAAlB;AACA,MAAMC,KAAK,GAAG,gBAAd,C,CACA;;AAEA,OAAO,MAAMC,UAAU,GAAG,YAAY;AAOrC,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,gDAA+CH,KAAM,EAAvD,EAA0D;AACrFI,IAAAA,MAAM,EAAE,KAD6E;AAErFC,IAAAA,OAAO,EAAE;AACR,sBAAgBN;AADR;AAF4E,GAA1D,CAAL,CAMrBO,IANqB,CAMhB,UAAUJ,QAAV,EAAyB;AAC9B,WAAOA,QAAQ,CAACK,IAAT,EAAP;AACA,GARqB,EASrBD,IATqB,CAShB,UAAUE,IAAV,EAAqB;AAC1B,WAAOA,IAAP;AACA,GAXqB,EAYrBF,IAZqB,CAYfG,MAAD,IAAiB;AACtB,UAAMC,OAAO,GAAGD,MAAM,CAACE,YAAP,CAAoBC,GAApB,CAAyBC,IAAD,IAAmB;AAC1D,aAAO;AACNC,QAAAA,EAAE,EAAED,IAAI,CAACC,EADH;AAENC,QAAAA,IAAI,EAAEF,IAAI,CAACE;AAFL,OAAP;AAIA,KALe,CAAhB;AAMA,WAAOL,OAAP;AACA,GApBqB,CAAvB;AAqBA,SAAO,MAAMR,QAAb;AACA,CA7BM;AAgCP,OAAO,MAAMc,SAAS,GAAG,OAAOF,EAAP,EAA4BG,IAA5B,EAAwCC,UAAxC,KAA6D;AAErF,MAAIC,UAAU,GAAG,EAAjB;AACA,MAAIC,gBAAgB,GAAG,EAAvB;;AAEA,MAAIH,IAAJ,EAAU;AACTI,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BL,IAA/B;AACAE,IAAAA,UAAU,GAAI,WAAUF,IAAK,EAA7B;AACA;;AACD,MAAIC,UAAJ,EAAgB;AACfE,IAAAA,gBAAgB,GAAI,aAAYF,UAAU,CAACK,QAAS,WAAUL,UAAU,CAACM,MAAO,EAAhF;AACA;;AACD,QAAMC,GAAG,GAAI,iDAAgDX,EAAG,WAAUK,UAAW,GAAEC,gBAAiB,EAAxG;AAEA,QAAMlB,QAAQ,GAAG,MAAMC,KAAK,CAACsB,GAAD,EAAM;AACjCrB,IAAAA,MAAM,EAAE,KADyB;AAEjCC,IAAAA,OAAO,EAAE;AACR,sBAAgBN;AADR;AAFwB,GAAN,CAAL,CAKpBO,IALoB,CAKf,UAAUJ,QAAV,EAAoB;AAC3B,WAAOA,QAAQ,CAACK,IAAT,EAAP;AACA,GAPsB,EAOpBD,IAPoB,CAOf,UAAUE,IAAV,EAAgB;AACvB,WAAOA,IAAP;AACA,GATsB,CAAvB;AAUA,SAAO,MAAMN,QAAb;AACA,CAzBM;AA4BP,OAAO,MAAMwB,QAAQ,GAAG,YAAY;AASnC,QAAMxB,QAAQ,GAAG,MAAMC,KAAK,CAAE,yCAAwCH,KAAM,EAAhD,EAAmD;AAC9EI,IAAAA,MAAM,EAAE,KADsE;AAE9EC,IAAAA,OAAO,EAAE;AACR,sBAAgBN;AADR;AAFqE,GAAnD,CAAL,CAKpBO,IALoB,CAKf,UAAUJ,QAAV,EAAoB;AAC3B,WAAOA,QAAQ,CAACK,IAAT,EAAP;AACA,GAPsB,EAOpBD,IAPoB,CAOf,UAAUE,IAAV,EAAgB;AACvB,WAAOA,IAAP;AACA,GATsB,EASpBF,IAToB,CASf,UAAUG,MAAV,EAAkB;AACzBY,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCb,MAAM,CAACkB,KAAzC;AACA,GAXsB,CAAvB,CATmC,CAqBnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAO,MAAMzB,QAAb;AAEA,CAnCM","sourcesContent":["const API_TOKEN = \"0d5df8c05978490ea0958129ea7986b4\"\r\nconst TARIF = \"?plan=TIER_ONE\"\r\n// TODO: Убрать все консоль-логи\r\n\r\nexport const getLeagues = async () => {\r\n\r\n\tinterface Leagues {\r\n\t\tid: number | string,\r\n\t\tname: string\r\n\t}\r\n\r\n\tconst response = await fetch(`https://api.football-data.org/v2/competitions${TARIF}`, {\r\n\t\tmethod: 'GET',\r\n\t\theaders: {\r\n\t\t\t'X-Auth-Token': API_TOKEN\r\n\t\t}\r\n\t})\r\n\t\t.then(function (response: any) {\r\n\t\t\treturn response.json();\r\n\t\t})\r\n\t\t.then(function (data: any) {\r\n\t\t\treturn data;\r\n\t\t})\r\n\t\t.then((result: any) => {\r\n\t\t\tconst leagues = result.competitions.map((item: Leagues) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tid: item.id,\r\n\t\t\t\t\tname: item.name\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\treturn leagues;\r\n\t\t})\r\n\treturn await response;\r\n}\r\n\r\n\r\nexport const getLeague = async (id: number | string, year?: any, dateFromTo?: any) => {\r\n\r\n\tlet filterYear = '';\r\n\tlet filterDateFromTo = '';\r\n\r\n\tif (year) {\r\n\t\tconsole.log('getLeague year ', year)\r\n\t\tfilterYear = `?season=${year}`\r\n\t}\r\n\tif (dateFromTo) {\r\n\t\tfilterDateFromTo = `?dateFrom=${dateFromTo.dateFrom}&dateTo=${dateFromTo.dateTo}`\r\n\t}\r\n\tconst url = `https://api.football-data.org/v2/competitions/${id}/matches${filterYear}${filterDateFromTo}`\r\n\r\n\tconst response = await fetch(url, {\r\n\t\tmethod: 'GET',\r\n\t\theaders: {\r\n\t\t\t'X-Auth-Token': API_TOKEN\r\n\t\t}\r\n\t}).then(function (response) {\r\n\t\treturn response.json()\r\n\t}).then(function (data) {\r\n\t\treturn data;\r\n\t})\r\n\treturn await response;\r\n}\r\n\r\n\r\nexport const getTeams = async () => {\r\n\r\n\tinterface Teams {\r\n\t\tid: number | string,\r\n\t\tname: string,\r\n\t\tcrestUrl: string,\r\n\t\tclubColors: string\r\n\t}\r\n\r\n\tconst response = await fetch(`https://api.football-data.org/v2/teams${TARIF}`, {\r\n\t\tmethod: 'GET',\r\n\t\theaders: {\r\n\t\t\t'X-Auth-Token': API_TOKEN\r\n\t\t}\r\n\t}).then(function (response) {\r\n\t\treturn response.json();\r\n\t}).then(function (data) {\r\n\t\treturn data;\r\n\t}).then(function (result) {\r\n\t\tconsole.log(\"response teams 84 \", result.teams)\r\n\t})\r\n\t// .then((result) => {\r\n\t// \tconst teams = result.teams.map((team: Teams) => {\r\n\t// \t\treturn {\r\n\t// \t\t\tid: team.id,\r\n\t// \t\t\tname: team.name,\r\n\t// \t\t\tcrestUrl: team.crestUrl,\r\n\t// \t\t\tclubColors: team.clubColors,\r\n\t// \t\t}\r\n\t// \t})\r\n\t// \treturn teams;\r\n\t// }\r\n\r\n\treturn await response;\r\n\r\n}"]},"metadata":{},"sourceType":"module"}