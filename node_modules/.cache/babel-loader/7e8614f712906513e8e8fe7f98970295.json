{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\__Project\\\\SoccerStat\\\\soccer-stat-app\\\\src\\\\pages\\\\ComandList.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport PeopleIcon from '@material-ui/icons/People';\nimport { connect } from \"react-redux\";\nimport Warning from \"../components/Warning\";\nimport Loading from \"../components/Loading\";\nimport { requestTeams } from \"../redux/actions\";\nimport TableTeams from \"../components/TableTeams\";\nimport Search from \"../components/Search\";\nimport NoResultSearch from \"../components/NoResultSearch\";\n\nconst ComandList = props => {\n  _s();\n\n  const {\n    teams,\n    loading,\n    requestTeams,\n    errorMessage\n  } = props; // search state\n\n  const [searchValue, setSearchValue] = useState('');\n  const [allResult, setAllResult] = useState([]);\n  const [displayedResult, setDisplayedResult] = useState([]); // end search state\n\n  const searchText = () => {\n    const searching = displayedResult => {\n      let nameIndexOf = displayedResult.name.toLowerCase().indexOf(searchValue.toLowerCase());\n      let clubColors = displayedResult.clubColors.toLowerCase().indexOf(searchValue.toLowerCase());\n\n      if (nameIndexOf !== -1 || clubColors !== -1) {\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    const foundText = allResult.filter(searching);\n    setDisplayedResult(foundText);\n  };\n\n  const handleSearchValue = event => {\n    setSearchValue(event.target.value);\n\n    if (searchValue.length > 1) {\n      searchText();\n    } else {\n      setDisplayedResult(allResult);\n    }\n  };\n\n  useEffect(() => {\n    requestTeams();\n  }, []);\n  useEffect(() => {\n    setDisplayedResult(teams);\n    setAllResult(teams);\n  }, [teams]);\n\n  if (errorMessage) {\n    return /*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        marginTop: \"50px\"\n      },\n      children: errorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 10\n    }, this);\n  }\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 10\n    }, this);\n  }\n\n  if (!teams.length) {\n    return /*#__PURE__*/_jsxDEV(Warning, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 4\n    }, this);\n  }\n\n  console.log('displayedResult ', displayedResult);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [/*#__PURE__*/_jsxDEV(PeopleIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 8\n      }, this), \" \\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u043A\\u043E\\u043C\\u0430\\u043D\\u0434\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Search, {\n      searchText: searchText,\n      handleSearchValue: handleSearchValue\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 4\n    }, this), !displayedResult.length ? /*#__PURE__*/_jsxDEV(NoResultSearch, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 6\n    }, this) : /*#__PURE__*/_jsxDEV(TableTeams, {\n      searchValue: searchValue,\n      dataTable: displayedResult\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 6\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ComandList, \"uwbmQs5WOilZNOeWxLO+KE0efjM=\");\n\n_c = ComandList;\n\nconst mapStateToProps = state => ({\n  teams: state.leagues.teams,\n  errorMessage: state.leagues.errorMessage,\n  loading: state.app.loading,\n  season: state.leagues.season\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    requestTeams: () => dispatch(requestTeams())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ComandList);\n\nvar _c;\n\n$RefreshReg$(_c, \"ComandList\");","map":{"version":3,"sources":["D:/__Project/SoccerStat/soccer-stat-app/src/pages/ComandList.tsx"],"names":["React","useEffect","useState","PeopleIcon","connect","Warning","Loading","requestTeams","TableTeams","Search","NoResultSearch","ComandList","props","teams","loading","errorMessage","searchValue","setSearchValue","allResult","setAllResult","displayedResult","setDisplayedResult","searchText","searching","nameIndexOf","name","toLowerCase","indexOf","clubColors","foundText","filter","handleSearchValue","event","target","value","length","marginTop","console","log","mapStateToProps","state","leagues","app","season","mapDispatchToProps","dispatch"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,SAASC,YAAT,QAA6B,kBAA7B;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,cAAP,MAA2B,8BAA3B;;AAGA,MAAMC,UAAU,GAAIC,KAAD,IAAgB;AAAA;;AAClC,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA,OAAT;AAAkBP,IAAAA,YAAlB;AAAgCQ,IAAAA;AAAhC,MAAiDH,KAAvD,CADkC,CAGlC;;AACA,QAAM,CAACI,WAAD,EAAcC,cAAd,IAAgCf,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAACgB,SAAD,EAAYC,YAAZ,IAA4BjB,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACkB,eAAD,EAAkBC,kBAAlB,IAAwCnB,QAAQ,CAAC,EAAD,CAAtD,CANkC,CAOlC;;AACA,QAAMoB,UAAU,GAAG,MAAM;AACxB,UAAMC,SAAS,GAAIH,eAAD,IAA0B;AAC3C,UAAII,WAAW,GAAGJ,eAAe,CAACK,IAAhB,CAAqBC,WAArB,GAAmCC,OAAnC,CAA2CX,WAAW,CAACU,WAAZ,EAA3C,CAAlB;AACA,UAAIE,UAAU,GAAGR,eAAe,CAACQ,UAAhB,CAA2BF,WAA3B,GAAyCC,OAAzC,CAAiDX,WAAW,CAACU,WAAZ,EAAjD,CAAjB;;AAEA,UAAIF,WAAW,KAAK,CAAC,CAAjB,IAAsBI,UAAU,KAAK,CAAC,CAA1C,EAA6C;AAC5C,eAAO,IAAP;AACA,OAFD,MAEO;AACN,eAAO,KAAP;AACA;AACD,KATD;;AAWA,UAAMC,SAAS,GAAGX,SAAS,CAACY,MAAV,CAAiBP,SAAjB,CAAlB;AACAF,IAAAA,kBAAkB,CAACQ,SAAD,CAAlB;AACA,GAdD;;AAeA,QAAME,iBAAiB,GAAIC,KAAD,IAAgB;AACzCf,IAAAA,cAAc,CAACe,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAd;;AACA,QAAIlB,WAAW,CAACmB,MAAZ,GAAqB,CAAzB,EAA4B;AAC3Bb,MAAAA,UAAU;AACV,KAFD,MAEO;AACND,MAAAA,kBAAkB,CAACH,SAAD,CAAlB;AACA;AACD,GAPD;;AASAjB,EAAAA,SAAS,CAAC,MAAM;AACfM,IAAAA,YAAY;AACZ,GAFQ,EAEN,EAFM,CAAT;AAIAN,EAAAA,SAAS,CAAC,MAAM;AACfoB,IAAAA,kBAAkB,CAACR,KAAD,CAAlB;AACAM,IAAAA,YAAY,CAACN,KAAD,CAAZ;AACA,GAHQ,EAGN,CAACA,KAAD,CAHM,CAAT;;AAKA,MAAIE,YAAJ,EAAkB;AACjB,wBAAO;AAAI,MAAA,KAAK,EAAE;AAAEqB,QAAAA,SAAS,EAAE;AAAb,OAAX;AAAA,gBAAmCrB;AAAnC;AAAA;AAAA;AAAA;AAAA,YAAP;AACA;;AAED,MAAID,OAAJ,EAAa;AACZ,wBAAO,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,YAAP;AACA;;AAED,MAAI,CAACD,KAAK,CAACsB,MAAX,EAAmB;AAClB,wBACC,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,YADD;AAGA;;AACDE,EAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgClB,eAAhC;AACA,sBACC;AAAA,4BACC;AAAA,8BAAI,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA,cAAJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,eAEC,QAAC,MAAD;AAAQ,MAAA,UAAU,EAAEE,UAApB;AAAgC,MAAA,iBAAiB,EAAES;AAAnD;AAAA;AAAA;AAAA;AAAA,YAFD,EAIE,CAACX,eAAe,CAACe,MAAjB,gBAEC,QAAC,cAAD;AAAA;AAAA;AAAA;AAAA,YAFD,gBAIC,QAAC,UAAD;AAAY,MAAA,WAAW,EAAEnB,WAAzB;AAAsC,MAAA,SAAS,EAAEI;AAAjD;AAAA;AAAA;AAAA;AAAA,YARH;AAAA,kBADD;AAaA,CApED;;GAAMT,U;;KAAAA,U;;AAsEN,MAAM4B,eAAe,GAAIC,KAAD,KAAiB;AACxC3B,EAAAA,KAAK,EAAE2B,KAAK,CAACC,OAAN,CAAc5B,KADmB;AAExCE,EAAAA,YAAY,EAAEyB,KAAK,CAACC,OAAN,CAAc1B,YAFY;AAGxCD,EAAAA,OAAO,EAAE0B,KAAK,CAACE,GAAN,CAAU5B,OAHqB;AAIxC6B,EAAAA,MAAM,EAAEH,KAAK,CAACC,OAAN,CAAcE;AAJkB,CAAjB,CAAxB;;AAMA,MAAMC,kBAAkB,GAAIC,QAAD,IAAmB;AAC7C,SAAO;AACNtC,IAAAA,YAAY,EAAE,MAAMsC,QAAQ,CAACtC,YAAY,EAAb;AADtB,GAAP;AAGA,CAJD;;AAMA,eAAeH,OAAO,CAACmC,eAAD,EAAkBK,kBAAlB,CAAP,CAA6CjC,UAA7C,CAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport PeopleIcon from '@material-ui/icons/People';\r\nimport { connect } from \"react-redux\";\r\nimport Warning from \"../components/Warning\";\r\nimport Loading from \"../components/Loading\";\r\nimport { requestTeams } from \"../redux/actions\";\r\nimport TableTeams from \"../components/TableTeams\";\r\nimport Search from \"../components/Search\";\r\nimport NoResultSearch from \"../components/NoResultSearch\";\r\n\r\n\r\nconst ComandList = (props: any) => {\r\n\tconst { teams, loading, requestTeams, errorMessage } = props;\r\n\r\n\t// search state\r\n\tconst [searchValue, setSearchValue] = useState('');\r\n\tconst [allResult, setAllResult] = useState([]);\r\n\tconst [displayedResult, setDisplayedResult] = useState([]);\r\n\t// end search state\r\n\tconst searchText = () => {\r\n\t\tconst searching = (displayedResult: any) => {\r\n\t\t\tlet nameIndexOf = displayedResult.name.toLowerCase().indexOf(searchValue.toLowerCase());\r\n\t\t\tlet clubColors = displayedResult.clubColors.toLowerCase().indexOf(searchValue.toLowerCase());\r\n\r\n\t\t\tif (nameIndexOf !== -1 || clubColors !== -1) {\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst foundText = allResult.filter(searching)\r\n\t\tsetDisplayedResult(foundText)\r\n\t}\r\n\tconst handleSearchValue = (event: any) => {\r\n\t\tsetSearchValue(event.target.value)\r\n\t\tif (searchValue.length > 1) {\r\n\t\t\tsearchText()\r\n\t\t} else {\r\n\t\t\tsetDisplayedResult(allResult)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\trequestTeams();\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetDisplayedResult(teams);\r\n\t\tsetAllResult(teams);\r\n\t}, [teams])\r\n\r\n\tif (errorMessage) {\r\n\t\treturn <h2 style={{ marginTop: \"50px\" }}>{errorMessage}</h2>\r\n\t}\r\n\r\n\tif (loading) {\r\n\t\treturn <Loading />\r\n\t}\r\n\r\n\tif (!teams.length) {\r\n\t\treturn (\r\n\t\t\t<Warning />\r\n\t\t)\r\n\t}\r\n\tconsole.log('displayedResult ', displayedResult)\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<h1><PeopleIcon /> Список команд</h1>\r\n\t\t\t<Search searchText={searchText} handleSearchValue={handleSearchValue} />\r\n\t\t\t{\r\n\t\t\t\t!displayedResult.length\r\n\t\t\t\t\t?\r\n\t\t\t\t\t<NoResultSearch />\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<TableTeams searchValue={searchValue} dataTable={displayedResult} />\r\n\t\t\t}\r\n\t\t</>\r\n\t)\r\n};\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n\tteams: state.leagues.teams,\r\n\terrorMessage: state.leagues.errorMessage,\r\n\tloading: state.app.loading,\r\n\tseason: state.leagues.season\r\n})\r\nconst mapDispatchToProps = (dispatch: any) => {\r\n\treturn {\r\n\t\trequestTeams: () => dispatch(requestTeams())\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ComandList);"]},"metadata":{},"sourceType":"module"}